{"ast":null,"code":"import React,{Component}from\"react\";// import { FaSearch } from \"react-icons/fa\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class WeatherForm extends Component{constructor(){super();this.handleChange=e=>{this.setState({location:e.target.value});};this.fetchWeather=async e=>{e.preventDefault();const{location}=this.state;const{addWeatherData,setErrorMessage}=this.props;const apiKey=\"717a42a8850482b98bb0f482ea578d0b\";try{const response=await fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(location,\"&appid=\").concat(apiKey,\"&units=metric\"));const data=await response.json();if(response.ok){addWeatherData(data);this.setState({location:\"\"});}else{setErrorMessage(\"Error fetching weather data. Please enter a valid city name.\");}}catch(error){setErrorMessage(\"Network error. Please try again later.\");}};this.state={location:\"\"};}render(){const{location}=this.state;return/*#__PURE__*/_jsxs(\"form\",{className:\"weather-form\",onSubmit:this.fetchWeather,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter city name\",value:location,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]});}}export default WeatherForm;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","WeatherForm","constructor","handleChange","e","setState","location","target","value","fetchWeather","preventDefault","state","addWeatherData","setErrorMessage","props","apiKey","response","fetch","concat","data","json","ok","error","render","className","onSubmit","children","type","placeholder","onChange","required"],"sources":["/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/WeatherForm.js"],"sourcesContent":["import React, { Component } from \"react\";\n// import { FaSearch } from \"react-icons/fa\";\n\nclass WeatherForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      location: \"\",\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({ location: e.target.value });\n  };\n\n  fetchWeather = async (e) => {\n    e.preventDefault();\n    const { location } = this.state;\n    const { addWeatherData, setErrorMessage } = this.props;\n    const apiKey = \"717a42a8850482b98bb0f482ea578d0b\";\n    try {\n      const response = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${apiKey}&units=metric`\n      );\n      const data = await response.json();\n      if (response.ok) {\n        addWeatherData(data);\n        this.setState({ location: \"\" });\n      } else {\n        setErrorMessage(\n          \"Error fetching weather data. Please enter a valid city name.\"\n        );\n      }\n    } catch (error) {\n      setErrorMessage(\"Network error. Please try again later.\");\n    }\n  };\n\n  render() {\n    const { location } = this.state;\n\n    return (\n      <form className=\"weather-form\" onSubmit={this.fetchWeather}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter city name\"\n          value={location}\n          onChange={this.handleChange}\n          required\n        />\n        <button type=\"submit\">\n          {/* <FaSearch /> */}\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default WeatherForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,WAAW,QAAS,CAAAL,SAAU,CAClCM,WAAWA,CAAA,CAAG,CACZ,KAAK,CAAC,CAAC,CAAC,KAMVC,YAAY,CAAIC,CAAC,EAAK,CACpB,IAAI,CAACC,QAAQ,CAAC,CAAEC,QAAQ,CAAEF,CAAC,CAACG,MAAM,CAACC,KAAM,CAAC,CAAC,CAC7C,CAAC,MAEDC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAC1BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAEJ,QAAS,CAAC,CAAG,IAAI,CAACK,KAAK,CAC/B,KAAM,CAAEC,cAAc,CAAEC,eAAgB,CAAC,CAAG,IAAI,CAACC,KAAK,CACtD,KAAM,CAAAC,MAAM,CAAG,kCAAkC,CACjD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,sDAAAC,MAAA,CAC2BZ,QAAQ,YAAAY,MAAA,CAAUH,MAAM,iBAC/E,CAAC,CACD,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACfT,cAAc,CAACO,IAAI,CAAC,CACpB,IAAI,CAACd,QAAQ,CAAC,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CACjC,CAAC,IAAM,CACLO,eAAe,CACb,8DACF,CAAC,CACH,CACF,CAAE,MAAOS,KAAK,CAAE,CACdT,eAAe,CAAC,wCAAwC,CAAC,CAC3D,CACF,CAAC,CA9BC,IAAI,CAACF,KAAK,CAAG,CACXL,QAAQ,CAAE,EACZ,CAAC,CACH,CA6BAiB,MAAMA,CAAA,CAAG,CACP,KAAM,CAAEjB,QAAS,CAAC,CAAG,IAAI,CAACK,KAAK,CAE/B,mBACEX,KAAA,SAAMwB,SAAS,CAAC,cAAc,CAACC,QAAQ,CAAE,IAAI,CAAChB,YAAa,CAAAiB,QAAA,eACzD5B,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BpB,KAAK,CAAEF,QAAS,CAChBuB,QAAQ,CAAE,IAAI,CAAC1B,YAAa,CAC5B2B,QAAQ,MACT,CAAC,cACFhC,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAD,QAAA,CACC,QAEtB,CAAQ,CAAC,EACL,CAAC,CAEX,CACF,CAEA,cAAe,CAAAzB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}